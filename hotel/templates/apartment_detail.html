{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Room Detail</title>
    <script src="https://kit.fontawesome.com/692189991f.js" crossorigin="anonymous"></script>

    {% block extra_css %}
    <link rel="stylesheet" href="{% static 'fullcalendar/lib/main.css' %}">
    {% endblock extra_css %}
    <!-- Main StyleSheet -->
    <link rel="stylesheet" href="{% static 'hotel/css/detail.css' %}">

</head>

<body>

    <!-- Main Content -->
    <div class="content">

        <!-- Room Image -->
        <div class="image">
            <img
                src="{{ apartment_img.url }}">
        </div>

        <!-- Room Details -->
        <div class="room">

            <!-- Div 1: Back to Home -->
            <div class="home">
                <a href="{% url 'hotel:index' %}"><i class="fas fa-arrow-alt-circle-left">Home</i></a>
            </div>

            <!-- Div 2: Room Information -->
            <div class="room-info">
                <h1>{{apartment_category}}</h1>
                <p>{{apartment_desc}} </p>
            </div>

            <!-- Div 3: Room Booking Form -->
            <!-- <form id="booking-form" action="" method="POST">
                {% csrf_token %}
                <div class="input-div">
                    <label for="id_check_in">Check In : </label>
                    <input type="date" id="id_check_in" name="check_in">
                </div>
                <div class="input-div">
                    <label for="id_check_out">Check Out : </label>
                    <input type="date" id="id_check_out" name="check_out">
                </div>
                <div class="input-div">
                    <button type="submit">Book the Room</button>
                </div>
            </form> --> 
                <div class="calendario">

<div class="card">
    <div class="card-header">
        <div class="row">
            <div class="col-md-8">
                <h2><strong> Calendario de reservas </strong></h2>


            </div>

        </div>

    </div>
    <div class="container" id="calendar">
        {{ calendar }}

    </div>
</div>
<!-- <a href="{% url 'hotel:calendar' %}? {{ prev_month }}"> Previous Month </a>
<a href="{% url 'hotel:calendar' %}? {{ next_month }}"> Next Month </a> -->

<br>



<script src="{% static 'fullcalendar/lib/main.js' %}"></script>
<script src="{% static 'fullcalendar/lib/locales-all.js' %}"></script>

<script>
        document.addEventListener('DOMContentLoaded', function(){
        var calendarUI = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarUI,{
            events: [
                {% for booking in object_list %}
                {
                    title: "Caba√±a reservada: {{booking.apartment}}",
                    start: '{{booking.check_in | date:"Y-m-d" }}', 
                    end: '{{booking.check_out | date:"Y-m-d" }}',
                },
                {% endfor %}
            ]
        });
        calendar.render();
        calendar.setOption('locale', 'es');
        });
    </script>
                </div>

                <h2> 
                    Django Form
                </h2>
                <form action="", method="POST">
                    {% csrf_token %} 
                    {{form.as_p}}
                    <br>
                    <br>
                    <button type="submit">Reservar!</button>
                </form>

</body>
</html>